<html>
    <head>
    
    
    
        <script type="text/javascript"
src="http://download.skype.com/share/skypebuttons/js/skypeCheck.js">
        </script>
        <meta name="pygwt:module" content="Basic">
        <link rel='stylesheet' href='Basic.css'>
        <title>{{ page_title }} - Pairgramming</title>
        <link rel="stylesheet" type="text/css" href="ajaxterm/ajaxterm.css"/>
        <script type="text/javascript" src="ajaxterm/sarissa.js"></script>
        <script type="text/javascript" src="ajaxterm/sarissa_dhtml.js"></script>
        <script type="text/javascript" src="ajaxterm/ajaxterm.js"></script>
        <script language="Javascript" type="text/javascript" src="edit_area_full.js"></script>
        <script>
        function setterm(driverc) {
					alert(driverc);
					if (driverc.length == 0) {
						alert("setting normally");
						window.ajaxterm_console=ajaxterm.Terminal("term",60,25,'{{ server_host }}','{{ server_logon }}','{{ AJAXTERM_URL }}', '{{ user.id }}', '{{meeting.driverconsole}}');
					}
					else {
						alert("setting specially");
						window.ajaxterm_console=ajaxterm.Terminal("term",60,25,'{{ server_host }}','{{ server_logon }}','{{ AJAXTERM_URL }}', '{{ user.id }}', '{{meeting.driverconsole}}');
					}
				}

        function changeSID(new_sid) {
        	 // try just re-issueing the setterm command instead
						 window.ajaxterm_console.setSID(new_sid);
        }
				function setDP(driver) {
        	  window.ajaxterm_console.set_driver(driver);
        }
        </script>

    <script>
    // this synchs the listener editor and the actual editor
    // maybe we will have the pjs set this somewhere, because we want to be able to control
    // which function is being called....
    //setInterval("synchEditors()", 10000);
    
    function SetUpEditArea(editorid, listenerid) {
          // do everything we need to setup the edit-area
        // initialisation
        // also makes sure that the listener is set and ready to go.
     // alert("setting up edit area from here")
      editAreaLoader.init({
      id: editorid //"editarea"	// id of the textarea to transform		
      ,start_highlight: true	// if start with highlight
      ,allow_resize: "both"
      ,allow_toggle: true
      ,cursor_position: "auto"
      ,word_wrap: true
      ,language: "en"
      ,syntax: "c"	
      ,toolbar: "new_document, save, load, |, search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection"
      ,syntax_selection_allow: "css,html,js,php,python,vb,xml,c,cpp,sql,basic,pas,brainfuck"
      ,show_line_colors: true
      ,replace_tab_by_spaces: 4
      ,load_callback: "my_load"
      ,save_callback: "my_save"
    });
    
    //window.editorid = editorid;
    //window.listenerid = listenerid;
    //window.editor = document.getElementById(editorid);
    //window.listener = document.getElementById(listenerid); // this may be wrong, now...
  }
  
  // fake
  function my_save() {
    
  
  }
  
  
  function toggle() {
    // this works, but for the part where it changes the position of the cursor...
    editAreaLoader.toggle(window.editorid);
    editAreaLoader.toggle(window.editorid);
  }     
                 
  function set_listener(id)
  {
    editAreaLoader.execCommand(id, 'set_editable', false);
  }
  function set_editable(id)
  {
    editAreaLoader.execCommand(id, 'set_editable', true);
  }
  
  // sets the content of the editor and makes it un-editable
  function listen(id, content) {
    editAreaLoader.setValue(id, content);
    editAreaLoader.execCommand(id, 'set_editable', false);
  }
  
  
  
  
  function speak(EID, LID) {
    var content = editAreaLoader.getValue(EID);
    document.getElementById(LID)
  }

  </script>
      
    </head>
    <body bgcolor="#ffffff">
        <script language="javascript" src="pygwt.js"></script>
    </body>
</html>

